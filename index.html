<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <title>Admin Panel</title>

    <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
        integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">

    <link rel="stylesheet" href="font/font/flaticon.css">



    <!-- Graph -->
    <script>
        window.onload = function () {

            CanvasJS.addColorSet("greenShades",
                [//colorSet Array

                    "#1d1159",
                    "#0091ad",
                    "#79a7f1",
                    "#4b5ca5",
                    "#74d1f6"
                ]);

            var chart = new CanvasJS.Chart("chartContainer", {
                animationEnabled: true,
                theme: "light1",//, "light1", "light2", "dark1", "dark2"
                dataPointWidth: 20,
                colorSet: "greenShades",

                data: [{
                    type: "column",
                    showInLegend: false,
                    legendMarkerColor: "grey",
                    legendText: "MMbbl = one million barrels",
                    dataPoints: [
                        { y: 120, label: "Jan" },
                        { y: 80, label: "Feb" },
                        { y: 60, label: "Mar" },
                        { y: 100, label: "Apr" },
                        { y: 40, label: "May" },
                        { y: 160, label: "Jun" },
                        { y: 130, label: "Jul" },
                        { y: 140, label: "Aug" },
                        { y: 60, label: "Sep" },
                        { y: 30, label: "Oct" },
                        { y: 170, label: "Nov" },
                        { y: 120, label: "Dec" }
                    ]
                }]
            });
            chart.render();

        }
    </script>
</head>

<body>

    <div id="wrapper">


        <!-- Sidebar -->
        <nav class="fixed-top align-top" id="sidebar-wrapper" role="navigation">
            <div class="simplebar-content" style="padding: 0px;">
                <a class="sidebar-brand" href="index.html">
                    <i class="fa fa-cubes" aria-hidden="true" style="margin-right: 10px ; color:#79a7f1"></i>Company
                    Name
                </a>

                <ul class="navbar-nav align-self-stretch">

                    <li class="sidebar-header">
                        Pages
                    </li>

                    <li class="has-sub">
                        <a class="nav-link collapsed text-left active" href="#collapseExample" role="button"
                            data-toggle="collapse">
                            <i class="fa fa-home" aria-hidden="true"></i> Homepage
                        </a>
                        <div class="collapse menu mega-dropdown" id="collapseExample">

                            <div class="submenu-box">
                                <ul class="list-unstyled m-0">
                                    <li><a href="">Default</a></li>
                                    <li><a href="">Analytics</a></li>
                                    <li><a href="">Show data</a></li>
                                    <li><a href="">Social</a></li>
                                    <li><a href="">Crypto</a></li>
                                </ul>
                            </div>

                        </div>
                    </li>
                </ul>
            </div>
        </nav>
        <!-- /#sidebar-wrapper -->



        <!-- Page Content -->
        <div id="page-content-wrapper">


            <div id="content">

                <div class="container-fluid p-0 px-lg-0 px-md-0">
                    <!-- Topbar -->
                    <nav class="navbar navbar-expand navbar-light my-navbar shadow mb-4 bg-white rounded">

                        <!-- Sidebar Toggle (Topbar) -->
                        <div type="button" id="bar" class="nav-icon1 hamburger animated fadeInLeft is-closed"
                            data-toggle="offcanvas">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>

                        <!-- Topbar Search -->
                        <form class="d-none d-sm-inline-block form-inline navbar-search">
                            <div class="input-group bg-light" style="border: 1px solid #e6e6e6; border-radius: 20px;">

                                <input type="text" class="form-control bg-light " placeholder="Search projects..."
                                    aria-label="Search" style="border: 0px solid transparent;  border-radius: 20px;">

                                <div class="input-group-append">
                                    <button class="btn" type="button">
                                        <i class="fa fa-search" aria-hidden="true" style="color: #a2a2a2;"></i>
                                    </button>
                                </div>
                            </div>
                        </form>

                        <div class="dropdown">
                            <button class="btn dropdown-toggle" type="button" id="dropdownMenuButton"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                                style="color: #878787">
                                Mega menu
                            </button>
                            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                <a class="dropdown-item" href="#">Action</a>
                                <a class="dropdown-item" href="#">Action</a>
                                <a class="dropdown-item" href="#">Another action</a>
                                <a class="dropdown-item" href="#">Something else here</a>
                            </div>
                        </div>



                        <!-- Topbar Navbar -->
                        <ul class="navbar-nav ml-auto tab-options">

                            <!-- Nav Item - Search Dropdown (Visible Only XS) -->
                            <li class="nav-item dropdown  d-sm-none">

                                <!-- Dropdown - Messages -->
                                <div class="dropdown-menu dropdown-menu-right p-3">
                                    <form class="form-inline mr-auto w-100 navbar-search">
                                        <div class="input-group">
                                            <input type="text" class="form-control bg-light border-0 small"
                                                placeholder="Search for...">
                                            <div class="input-group-append">
                                                <button class="btn btn-primary" type="button">
                                                    <i class="fas fa-search fa-sm"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </li>

                            <!-- Nav Item - Alerts -->
                            <li class="nav-item dropdown">
                                <a class="nav-icon dropdown" href="#" id="alertsDropdown" data-toggle="dropdown"
                                    aria-expanded="false">
                                    <div class="position-relative">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round"
                                            class="feather feather-bell align-middle">
                                            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                                            <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                                        </svg>
                                        <span class="indicator">4</span>
                                    </div>
                                </a>
                                <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right p-2"
                                    aria-labelledby="alertsDropdown" style="min-width: max-content;">
                                    <div class="dropdown-menu-header">
                                        4 New Notifications
                                    </div>
                                    <div class="list-group">
                                        <a href="#" class="list-group-item">
                                            <div class="row no-gutters align-items-center">
                                                <div class="col-2">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                        viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                                        class="feather feather-alert-circle text-danger">
                                                        <circle cx="12" cy="12" r="10"></circle>
                                                        <line x1="12" y1="8" x2="12" y2="12"></line>
                                                        <line x1="12" y1="16" x2="12.01" y2="16"></line>
                                                    </svg>
                                                </div>
                                                <div class="col-10">
                                                    <div class="text-dark">Update completed</div>
                                                    <div class="text-muted small mt-1">Restart server 12 to complete the
                                                        update.</div>
                                                    <div class="text-muted small mt-1">30m ago</div>
                                                </div>
                                            </div>
                                        </a>

                                    </div>
                                    <div class="dropdown-menu-footer">
                                        <a href="#" class="text-muted">Show all notifications</a>
                                    </div>
                                </div>
                            </li>
                            <!-- Nav Item - Messages -->
                            <li class="nav-item">
                                <a class="nav-link " href="#" role="button">
                                    <i class="fas fa-envelope"></i>
                                </a>
                            </li>

                            <!-- Nav Item - User Information -->
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="dropdownMenuButton" role="button"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <img class="img-profile rounded-circle" src="images/person.png">
                                    <span class="mr-2 d-none d-lg-inline text-gray-600 small">Lokesh Verma</span>
                                    <i class="fa fa-chevron-down d-none d-sm-inline-block" aria-hidden="true"></i>
                                </a>
                                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                    <a class="dropdown-item" href="#">Profile</a>
                                    <a class="dropdown-item" href="#">Settings</a>
                                    <a class="dropdown-item" href="#">Something else here</a>
                                </div>
                            </li>


                        </ul>

                    </nav>
                    <!-- End of Topbar -->

                    <!-- Begin Page Content -->
                    <div class="container-fluid px-lg-4">

                        <div class="col-md-12 mt-lg-4 mt-4">
                            <!-- Page Heading -->
                            <div class="d-sm-flex align-items-center justify-content-between mb-4">
                                <h1 class="h3 my-2 text-gray-800">Home Page</h1>
                                <div class='my-3' style="text-align: center;">
                                    <button class="btn ml-3" style="background-color: white; border-radius: 4px;"><i
                                            class="far fa-calendar"></i> Today <i class="fas fa-chevron-down"
                                            style="padding: 3px;"></i></button>
                                    <button class="btn ml-3" style="background: #3c81e7; border-radius: 4px;"><i
                                            class="fas fa-filter" style="color: white;"></i></button>
                                    <button class="btn ml-3" style="background: #3c81e7; border-radius: 4px;"><i class=" fas
                                    fa-sync-alt" style="color: white;"></i></button>

                                </div>

                            </div>
                            <div class="row row-eq-height">
                                <div class="col-md-6">
                                    <div class="card" style="background: #e0eafc;">
                                        <div class="card-body welcome">
                                            <h2 class="card-title mb-4" style="color:#3c81e7">Welcome Back, Lokesh!</h2>
                                            <img height="100px" class="img-profile rounded-circle"
                                                src="images/hello.svg">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card">
                                        <div class="card-body">
                                            <div>
                                                <h1 class="display-5 mt-1 mb-2">$ 24.300</h1>
                                                <h5 class="card-title mb-3">Total Earnings</h5>
                                                <div class="mb-1">
                                                    <span class="text-success"> <i
                                                            class="mdi mdi-arrow-bottom-right"></i>
                                                        +5.65% </span>
                                                    <span class="text-muted">Since last week</span>
                                                </div>
                                            </div>
                                            <img height="50px" class="img-profile rounded-circle"
                                                src="images/dollar.png">
                                        </div>


                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card">
                                        <div class="card-body">
                                            <div>

                                                <h1 class="display-5 mt-1 mb-2">43</h1>
                                                <h5 class="card-title mb-3">Pending orders</h5>
                                                <div class="mb-1">
                                                    <span class="text-danger"> <i
                                                            class="mdi mdi-arrow-bottom-right"></i>
                                                        -3.65% </span>
                                                    <span class="text-muted">Since last week</span>
                                                </div>
                                            </div>
                                            <img height="50px" class="img-profile rounded-circle" src="images/bag.png">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card">
                                        <div class="card-body">
                                            <div>

                                                <h1 class="display-5 mt-1 mb-2">$ 18.700</h1>
                                                <h5 class="card-title mb-3">Total Revenue</h5>
                                                <div class="mb-1">
                                                    <span class="text-success"> <i
                                                            class="mdi mdi-arrow-bottom-right"></i>
                                                        +8.65% </span>
                                                    <span class="text-muted">Since last week</span>
                                                </div>


                                            </div>
                                            <img height="50px" class="img-profile rounded-circle"
                                                src="images/dollar.png">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="row px-0 mx-0 row-eq-height">
                            <div class="col-md-8 my-2">
                                <div class="card p-3" style="height: 100%">
                                    <!-- Card header -->

                                    <!-- Title -->
                                    <div style='display: flex; justify-content: space-between;'>

                                        <h5>Sales/Revenue</h5>
                                        <button class="btn ml-3" style="color: #797979;"> <i
                                                class="fas fa-ellipsis-h"></i></button>

                                    </div>
                                    <!-- Card body -->
                                    <div class="card-body">
                                        <div id="chartContainer" style="height: 370px; width: 100%;"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 my-2">
                                <div class="card p-3" style="height: 100%">
                                    <!-- Card header -->
                                    <div style='display: flex; justify-content: space-between;'>

                                        <!-- Title -->
                                        <h5>Daily Feed</h5>
                                        <span class="badge badge-info">Today</span>
                                    </div>
                                    <!-- Card body -->
                                    <div class="card-body mailbox">
                                        <div class="message-center ">
                                            <!-- Message -->
                                            <a href="#">
                                                <img height="50px" width="50px" class="img-profile rounded-circle"
                                                    src="images/person.png">
                                                <div class="mail-contnet">
                                                    <h5>Luanch Admin</h5> <span class="mail-desc">Just see the my new
                                                        admin!</span> <span class="time">9:30 AM</span>
                                                </div>
                                            </a>
                                            <!-- Message -->
                                            <a href="#">
                                                <img height="50px" width="50px" class="img-profile rounded-circle"
                                                    src="images/2.jpg">

                                                <div class="mail-contnet">
                                                    <h5>Event today</h5> <span class="mail-desc">Just a reminder that
                                                        you have event</span> <span class="time">9:10 AM</span>
                                                </div>
                                            </a>
                                            <!-- Message -->
                                            <a href="#">
                                                <img height="50px" width="50px" class="img-profile rounded-circle"
                                                    src="images/3.jpg">

                                                <div class="mail-contnet">
                                                    <h5>Settings</h5> <span class="mail-desc">You cant do it id is eed
                                                        for that</span> <span class="time">9:08 AM</span>
                                                </div>
                                            </a>
                                            <!-- Message -->
                                            <a href="#">
                                                <img height="50px" width="50px" class="img-profile rounded-circle"
                                                    src="images/4.png">

                                                <div class="mail-contnet">
                                                    <h5>Pavan kumar</h5> <span class="mail-desc">Just see the my
                                                        admin!</span> <span class="time">9:02 AM</span>
                                                </div>
                                            </a>
                                        </div>
                                    </div>

                                    <div class="btn btn-primary mx-4">
                                        Load more
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--* Card init *-->


                        <div class="row px-0 mx-0 my-3 row-eq-height">
                            <div class="col-md-4 my-2">
                                <div class="card p-3" style="height: 100%">
                                    <!-- Card header -->

                                    <!-- Title -->
                                    <div style='display: flex; justify-content: space-between; align-items: center;'>

                                        <h5>Calender</h5>
                                        <button class="btn ml-3" style="color: #797979;"> <i
                                                class="fas fa-ellipsis-h"></i></button>

                                    </div>
                                    <!-- Card body -->
                                    <div class="calendar calendar-first py-5" id="calendar_first">
                                        <div class="calendar_header">
                                            <button class="switch-month switch-left"> <i
                                                    class="fa fa-chevron-left"></i></button>
                                            <h2></h2>
                                            <button class="switch-month switch-right"> <i
                                                    class="fa fa-chevron-right"></i></button>
                                        </div>
                                        <div class="calendar_weekdays"></div>
                                        <div class="calendar_content"></div>
                                    </div>

                                </div>
                            </div>

                            <div class="col-md-4 my-2">
                                <div class="card p-3" style="height: 100%">
                                    <!-- Card header -->
                                    <div style='display: flex; justify-content: space-between; align-items: center;'>

                                        <!-- Title -->
                                        <h5>Weekly sales</h5>
                                        <button class="btn ml-3" style="color: #797979;"> <i
                                                class="fas fa-ellipsis-h"></i></button>

                                    </div>
                                    <!-- Card body -->
                                    <canvas id="chart-line" width="299" height="200" class="chartjs-render-monitor"
                                        style="display: block; width: 299px; height: 200px;"></canvas>
                                </div>
                            </div>
                            <div class="col-md-4 my-2">
                                <div class="card p-3" style="height: 100%">
                                    <!-- Card header -->
                                    <div style='display: flex; justify-content: space-between; align-items: center;'>

                                        <!-- Title -->
                                        <h5>Appointments</h5>
                                        <button class="btn ml-3" style="color: #797979;"> <i
                                                class="fas fa-ellipsis-h"></i></button>

                                    </div>
                                    <!-- Card body -->


                                    <div id="tracking">

                                        <div class="tracking-list ml-3 pt-3">
                                            <div class="tracking-item  py-2">
                                                <div class="tracking-icon status-intransit">

                                                    <i class="fas fa-circle"></i>
                                                </div>

                                                <div class="tracking-content">Chat with Carl and Arshly<span>
                                                        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Alias
                                                        voluptate modi, amet quidem
                                                    </span></div>
                                            </div>
                                            <div class="tracking-item py-2">
                                                <div class="tracking-icon status-intransit">

                                                    <i class="fas fa-circle"></i>
                                                </div>

                                                <div class="tracking-content">Chat with Carl and Arshly<span>
                                                        Lorem ipsum dolor sit amet, consectetur adipisicing elit.
                                                    </span></div>
                                            </div>
                                            <div class="tracking-item  py-2">
                                                <div class="tracking-icon status-intransit">

                                                    <i class="fas fa-circle"></i>
                                                </div>

                                                <div class="tracking-content">Chat with Carl and Arshly<span>
                                                        consectetur adipisicing elit.Alias voluptate modi, amet quidem
                                                    </span></div>
                                            </div>
                                            <div class="tracking-item  py-2">
                                                <div class="tracking-icon status-intransit">

                                                    <i class="fas fa-circle"></i>
                                                </div>

                                                <div class="tracking-content">Chat with Carl and Arshly<span>
                                                        Lorem ipsum dolor sit amet, Alias voluptate modi, amet quidem
                                                    </span></div>
                                            </div>



                                        </div>
                                    </div>


                                </div>
                            </div>
                        </div>



                        <!-- column -->

                    </div>

                </div>
                <!-- /.container-fluid -->

            </div>


            <footer class="footer">
                <div class="container-fluid">
                    <div class="row text-muted mx-0 px-0">
                        <div class="col-6 text-left">
                            <p class="mb-0">
                                <a href="index.html" class="text-muted-2">Admin Dashboard by- Lokesh Verma
                                </a>
                            </p>
                        </div>
                        <div class="col-6 text-right">
                            <ul class="list-inline">
                                <li class="footer-item">
                                    <a class="text-muted-2" href="#">Mobile: 8824481637</a>
                                </li>
                                <li class="footer-item">
                                    <a class="text-muted-2" href="#">Email: lvlokesh2102@gmail.com</a>
                                </li>

                            </ul>
                        </div>
                    </div>
                </div>
            </footer>

        </div>
    </div>
    <!-- /#page-content-wrapper -->


    <!-- /#wrapper -->

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
        integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>

    <script src="https://code.jquery.com/jquery-3.5.1.js"
        integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>

    <script>

        $('#bar').click(function () {
            $(this).toggleClass('open');
            $('#page-content-wrapper ,#sidebar-wrapper').toggleClass('toggled');

        });
    </script>

    <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.4/Chart.bundle.min.js'></script>
    <script>
        $(document).ready(function () {
            var ctx = $("#chart-line");
            var myLineChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"],
                    datasets: [{
                        data: [1200, 1700, 800, 200, 400, 1500, 300],
                        backgroundColor: ["rgba(255, 0, 0, 0.5)", "rgba(100, 255, 0, 0.5)", "rgba(200, 50, 255, 0.5)", "rgba(0, 100, 255, 0.5)", "#3b7ddd", "orange", "yellow"]
                    }]
                },
                options: {
                    title: {
                        display: false,
                        text: 'Weather'
                    }
                }
            });
        });
    </script>

    <!-- Calendar -->
    <script>
        $(document).ready(function () {
            function c(passed_month, passed_year, calNum) {
                var calendar = calNum == 0 ? calendars.cal1 : calendars.cal2;
                makeWeek(calendar.weekline);
                calendar.datesBody.empty();
                var calMonthArray = makeMonthArray(passed_month, passed_year);
                var r = 0;
                var u = false;
                while (!u) {
                    if (daysArray[r] == calMonthArray[0].weekday) {
                        u = true;
                    } else {
                        calendar.datesBody.append('<div class="blank"></div>');
                        r++;
                    }
                }
                for (var cell = 0; cell < 42 - r; cell++) {
                    // 42 date-cells in calendar
                    if (cell >= calMonthArray.length) {
                        calendar.datesBody.append('<div class="blank"></div>');
                    } else {
                        var shownDate = calMonthArray[cell].day;
                        var iter_date = new Date(passed_year, passed_month, shownDate);
                        if (
                            ((shownDate != today.getDate() && passed_month == today.getMonth()) ||
                                passed_month != today.getMonth()) &&
                            iter_date < today
                        ) {
                            var m = '<div class="past-date">';
                        } else {
                            var m = checkToday(iter_date) ? '<div class="today">' : "<div>";
                        }
                        calendar.datesBody.append(m + shownDate + "</div>");
                    }
                }

                var color = "#444444";
                calendar.calHeader.find("h2").text(i[passed_month] + " " + passed_year);
                calendar.weekline.find("div").css("color", color);
                calendar.datesBody.find(".today").css("color", "#fff");

                // find elements (dates) to be clicked on each time
                // the calendar is generated
                var clicked = false;
                selectDates(selected);

                clickedElement = calendar.datesBody.find("div");
                clickedElement.on("click", function () {
                    clicked = $(this);
                    var whichCalendar = calendar.name;

                    if (firstClick && secondClick) {
                        thirdClicked = getClickedInfo(clicked, calendar);
                        var firstClickDateObj = new Date(
                            firstClicked.year,
                            firstClicked.month,
                            firstClicked.date
                        );
                        var secondClickDateObj = new Date(
                            secondClicked.year,
                            secondClicked.month,
                            secondClicked.date
                        );
                        var thirdClickDateObj = new Date(
                            thirdClicked.year,
                            thirdClicked.month,
                            thirdClicked.date
                        );
                        if (
                            secondClickDateObj > thirdClickDateObj &&
                            thirdClickDateObj > firstClickDateObj
                        ) {
                            secondClicked = thirdClicked;
                            // then choose dates again from the start :)
                            bothCals
                                .find(".calendar_content")
                                .find("div")
                                .each(function () {
                                    $(this).removeClass("selected");
                                });
                            selected = {};
                            selected[firstClicked.year] = {};
                            selected[firstClicked.year][firstClicked.month] = [firstClicked.date];
                            selected = addChosenDates(firstClicked, secondClicked, selected);
                        } else {
                            // reset clicks
                            selected = {};
                            firstClicked = [];
                            secondClicked = [];
                            firstClick = false;
                            secondClick = false;
                            bothCals
                                .find(".calendar_content")
                                .find("div")
                                .each(function () {
                                    $(this).removeClass("selected");
                                });
                        }
                    }
                    if (!firstClick) {
                        firstClick = true;
                        firstClicked = getClickedInfo(clicked, calendar);
                        selected[firstClicked.year] = {};
                        selected[firstClicked.year][firstClicked.month] = [firstClicked.date];
                    } else {
                        secondClick = true;
                        secondClicked = getClickedInfo(clicked, calendar);

                        // what if second clicked date is before the first clicked?
                        var firstClickDateObj = new Date(
                            firstClicked.year,
                            firstClicked.month,
                            firstClicked.date
                        );
                        var secondClickDateObj = new Date(
                            secondClicked.year,
                            secondClicked.month,
                            secondClicked.date
                        );

                        if (firstClickDateObj > secondClickDateObj) {
                            var cachedClickedInfo = secondClicked;
                            secondClicked = firstClicked;
                            firstClicked = cachedClickedInfo;
                            selected = {};
                            selected[firstClicked.year] = {};
                            selected[firstClicked.year][firstClicked.month] = [firstClicked.date];
                        } else if (
                            firstClickDateObj.getTime() == secondClickDateObj.getTime()
                        ) {
                            selected = {};
                            firstClicked = [];
                            secondClicked = [];
                            firstClick = false;
                            secondClick = false;
                            $(this).removeClass("selected");
                        }

                        // add between dates to [selected]
                        selected = addChosenDates(firstClicked, secondClicked, selected);
                    }
                    selectDates(selected);
                });
            }

            function selectDates(selected) {
                if (!$.isEmptyObject(selected)) {
                    var dateElements1 = datesBody1.find("div");
                    var dateElements2 = datesBody2.find("div");

                    function highlightDates(passed_year, passed_month, dateElements) {
                        if (passed_year in selected && passed_month in selected[passed_year]) {
                            var daysToCompare = selected[passed_year][passed_month];
                            for (var d in daysToCompare) {
                                dateElements.each(function (index) {
                                    if (parseInt($(this).text()) == daysToCompare[d]) {
                                        $(this).addClass("selected");
                                    }
                                });
                            }
                        }
                    }

                    highlightDates(year, month, dateElements1);
                    highlightDates(nextYear, nextMonth, dateElements2);
                }
            }

            function makeMonthArray(passed_month, passed_year) {
                // creates Array specifying dates and weekdays
                var e = [];
                for (var r = 1; r < getDaysInMonth(passed_year, passed_month) + 1; r++) {
                    e.push({
                        day: r,
                        // Later refactor -- weekday needed only for first week
                        weekday: daysArray[getWeekdayNum(passed_year, passed_month, r)]
                    });
                }
                return e;
            }

            function makeWeek(week) {
                week.empty();
                for (var e = 0; e < 7; e++) {
                    week.append("<div>" + daysArray[e].substring(0, 3) + "</div>");
                }
            }

            function getDaysInMonth(currentYear, currentMon) {
                return new Date(currentYear, currentMon + 1, 0).getDate();
            }

            function getWeekdayNum(e, t, n) {
                return new Date(e, t, n).getDay();
            }

            function checkToday(e) {
                var todayDate =
                    today.getFullYear() +
                    "/" +
                    (today.getMonth() + 1) +
                    "/" +
                    today.getDate();
                var checkingDate =
                    e.getFullYear() + "/" + (e.getMonth() + 1) + "/" + e.getDate();
                return todayDate == checkingDate;
            }

            function getAdjacentMonth(curr_month, curr_year, direction) {
                var theNextMonth;
                var theNextYear;
                if (direction == "next") {
                    theNextMonth = (curr_month + 1) % 12;
                    theNextYear = curr_month == 11 ? curr_year + 1 : curr_year;
                } else {
                    theNextMonth = curr_month == 0 ? 11 : curr_month - 1;
                    theNextYear = curr_month == 0 ? curr_year - 1 : curr_year;
                }
                return [theNextMonth, theNextYear];
            }

            function b() {
                today = new Date();
                year = today.getFullYear();
                month = today.getMonth();
                var nextDates = getAdjacentMonth(month, year, "next");
                nextMonth = nextDates[0];
                nextYear = nextDates[1];
            }

            var e = 480;

            var today;
            var year, month, nextMonth, nextYear;

            var r = [];
            var i = [
                "January",
                "Febraury",
                "March",
                "April",
                "May",
                "June",
                "July",
                "August",
                "September",
                "October",
                "November",
                "December"
            ];
            var daysArray = [
                "Sunday",
                "Monday",
                "Tuesday",
                "Wednesday",
                "Thursday",
                "Friday",
                "Saturday"
            ];

            var cal1 = $("#calendar_first");
            var calHeader1 = cal1.find(".calendar_header");
            var weekline1 = cal1.find(".calendar_weekdays");
            var datesBody1 = cal1.find(".calendar_content");

            var cal2 = $("#calendar_second");
            var calHeader2 = cal2.find(".calendar_header");
            var weekline2 = cal2.find(".calendar_weekdays");
            var datesBody2 = cal2.find(".calendar_content");

            var bothCals = $(".calendar");

            var switchButton = bothCals.find(".calendar_header").find(".switch-month");

            var calendars = {
                cal1: {
                    name: "first",
                    calHeader: calHeader1,
                    weekline: weekline1,
                    datesBody: datesBody1
                },
                cal2: {
                    name: "second",
                    calHeader: calHeader2,
                    weekline: weekline2,
                    datesBody: datesBody2
                }
            };

            var clickedElement;
            var firstClicked, secondClicked, thirdClicked;
            var firstClick = false;
            var secondClick = false;
            var selected = {};

            b();
            c(month, year, 0);
            c(nextMonth, nextYear, 1);
            switchButton.on("click", function () {
                var clicked = $(this);
                var generateCalendars = function (e) {
                    var nextDatesFirst = getAdjacentMonth(month, year, e);
                    var nextDatesSecond = getAdjacentMonth(nextMonth, nextYear, e);
                    month = nextDatesFirst[0];
                    year = nextDatesFirst[1];
                    nextMonth = nextDatesSecond[0];
                    nextYear = nextDatesSecond[1];

                    c(month, year, 0);
                    c(nextMonth, nextYear, 1);
                };
                if (clicked.attr("class").indexOf("left") != -1) {
                    generateCalendars("previous");
                } else {
                    generateCalendars("next");
                }
                clickedElement = bothCals.find(".calendar_content").find("div");
            });

            //  Click picking stuff
            function getClickedInfo(element, calendar) {
                var clickedInfo = {};
                var clickedCalendar, clickedMonth, clickedYear;
                clickedCalendar = calendar.name;
                clickedMonth = clickedCalendar == "first" ? month : nextMonth;
                clickedYear = clickedCalendar == "first" ? year : nextYear;
                clickedInfo = {
                    calNum: clickedCalendar,
                    date: parseInt(element.text()),
                    month: clickedMonth,
                    year: clickedYear
                };
                return clickedInfo;
            }

            // Finding between dates MADNESS. Needs refactoring and smartening up :)
            function addChosenDates(firstClicked, secondClicked, selected) {
                if (
                    secondClicked.date > firstClicked.date ||
                    secondClicked.month > firstClicked.month ||
                    secondClicked.year > firstClicked.year
                ) {
                    var added_year = secondClicked.year;
                    var added_month = secondClicked.month;
                    var added_date = secondClicked.date;

                    if (added_year > firstClicked.year) {
                        // first add all dates from all months of Second-Clicked-Year
                        selected[added_year] = {};
                        selected[added_year][added_month] = [];
                        for (var i = 1; i <= secondClicked.date; i++) {
                            selected[added_year][added_month].push(i);
                        }

                        added_month = added_month - 1;
                        while (added_month >= 0) {
                            selected[added_year][added_month] = [];
                            for (var i = 1; i <= getDaysInMonth(added_year, added_month); i++) {
                                selected[added_year][added_month].push(i);
                            }
                            added_month = added_month - 1;
                        }

                        added_year = added_year - 1;
                        added_month = 11; // reset month to Dec because we decreased year
                        added_date = getDaysInMonth(added_year, added_month); // reset date as well

                        // Now add all dates from all months of inbetween years
                        while (added_year > firstClicked.year) {
                            selected[added_year] = {};
                            for (var i = 0; i < 12; i++) {
                                selected[added_year][i] = [];
                                for (var d = 1; d <= getDaysInMonth(added_year, i); d++) {
                                    selected[added_year][i].push(d);
                                }
                            }
                            added_year = added_year - 1;
                        }
                    }

                    if (added_month > firstClicked.month) {
                        if (firstClicked.year == secondClicked.year) {
                            selected[added_year][added_month] = [];
                            for (var i = 1; i <= secondClicked.date; i++) {
                                selected[added_year][added_month].push(i);
                            }
                            added_month = added_month - 1;
                        }
                        while (added_month > firstClicked.month) {
                            selected[added_year][added_month] = [];
                            for (var i = 1; i <= getDaysInMonth(added_year, added_month); i++) {
                                selected[added_year][added_month].push(i);
                            }
                            added_month = added_month - 1;
                        }
                        added_date = getDaysInMonth(added_year, added_month);
                    }

                    for (var i = firstClicked.date + 1; i <= added_date; i++) {
                        selected[added_year][added_month].push(i);
                    }
                }
                return selected;
            }
        });

    </script>




</body>

</html>